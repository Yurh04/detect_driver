<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cockpit | Driver Behavior Detection</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="dashboard">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                    stroke-linecap="round" stroke-linejoin="round" class="primary-icon">
                    <path
                        d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h10" />
                    <circle cx="7" cy="17" r="2" />
                    <circle cx="15" cy="17" r="2" />
                </svg>
                <div class="logo-text">
                    <h1>Cockpit</h1>
                    <span>Driver Behavior AI</span>
                </div>
            </div>

            <nav class="nav-menu">
                <button class="nav-item active" data-tab="upload">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        <polyline points="17 8 12 3 7 8" />
                        <line x1="12" y1="3" x2="12" y2="15" />
                    </svg>
                    视频分析
                </button>
                <button class="nav-item" data-tab="realtime">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
                        <circle cx="12" cy="13" r="4" />
                    </svg>
                    实时监控
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="system-status">
                    <div class="status-dot"></div>
                    System Ready
                </div>
                <p>© 2025 VisionTech</p>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Upload View -->
            <div class="view-content active" id="upload-tab">
                <header class="view-header">
                    <h2>视频分析</h2>
                    <p>上传行车记录文件进行深度行为轨迹扫描</p>
                </header>

                <div class="upload-shelf">
                    <div class="upload-box" id="upload-area">
                        <div class="drop-zone">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="dim-icon">
                                <path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242" />
                                <path d="M12 12v9" />
                                <path d="m16 16-4-4-4 4" />
                            </svg>
                            <p>拖拽视频文件或点击上传</p>
                            <span class="file-hint">支持 MP4, AVI, MOV</span>
                        </div>
                        <input type="file" id="video-file" accept="video/*" hidden>
                        <button class="btn-action primary" id="select-file-btn">选择文件</button>
                    </div>

                    <div class="file-card" id="file-info" style="display: none;">
                        <div class="file-details">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
                                <polyline points="14.5 2 14.5 7 20 7" />
                            </svg>
                            <span id="filename">video.mp4</span>
                        </div>
                        <button class="btn-action success" id="upload-btn">开始检测</button>
                    </div>

                    <div class="progress-container" id="progress-bar" style="display: none;">
                        <div class="progress-info">
                            <span id="progress-text">初始化...</span>
                        </div>
                        <div class="progress-track">
                            <div class="progress-bar-fill" id="progress-fill"></div>
                        </div>
                    </div>
                </div>

                <div class="results-grid" id="upload-results" style="display: none;">
                    <div class="media-card">
                        <div class="card-label">Result Stream</div>
                        <video id="result-video" controls></video>
                    </div>
                    <div class="stats-card">
                        <div class="card-label">Telemetry Data</div>
                        <div class="stats-list" id="upload-statistics"></div>
                    </div>
                </div>
            </div>

            <!-- Realtime View -->
            <div class="view-content" id="realtime-tab">
                <header class="view-header">
                    <h2>实时监控</h2>
                    <p>连接前端摄像头进行毫秒级行为监测</p>
                </header>

                <div class="camera-wall">
                    <div class="camera-feed-container">
                        <div class="feed-label">Live Feed</div>
                        <video id="camera-video" autoplay playsinline></video>
                        <canvas id="detection-canvas"></canvas>
                        <div class="feed-overlay">
                            <div class="scanner-line"></div>
                        </div>
                    </div>

                    <div class="control-panel">
                        <button class="btn-action success" id="start-camera">激活摄像头</button>
                        <button class="btn-action danger" id="stop-camera" style="display: none;">切断连接</button>

                        <div class="telemetry-box">
                            <div class="telemetry-item">
                                <label>SMOKE</label>
                                <span class="value" id="stat-smoke">0</span>
                            </div>
                            <div class="telemetry-item">
                                <label>PHONE</label>
                                <span class="value" id="stat-phone">0</span>
                            </div>
                            <div class="telemetry-item">
                                <label>DRINK</label>
                                <span class="value" id="stat-drink">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>